<!DOCTYPE html>
<html>
<head>
	<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
<script>

var jsonObject = {"2018-09-02": {"neg": 26, "pos": 45}, "2018-09-17": {"neg": 19, "pos": 33}, "2018-09-23": {"neg": 25, "pos": 37}, "2018-09-21": {"neg": 38, "pos": 49}, "2018-09-26": {"neg": 16, "pos": 42}, "2018-09-29": {"neg": 15, "pos": 52}, "2018-09-24": {"neg": 32, "pos": 64}, "2018-09-10": {"neg": 20, "pos": 56}, "2018-09-13": {"neg": 27, "pos": 38}, "2018-09-27": {"neg": 20, "pos": 47}, "2018-09-20": {"neg": 29, "pos": 50}, "2018-09-14": {"neg": 31, "pos": 37}, "2018-09-04": {"neg": 27, "pos": 43}, "2018-09-05": {"neg": 31, "pos": 50}, "2018-09-01": {"neg": 27, "pos": 56}, "2018-09-15": {"neg": 34, "pos": 43}, "2018-09-08": {"neg": 23, "pos": 54}, "2018-09-11": {"neg": 28, "pos": 43}, "2018-09-18": {"neg": 22, "pos": 40}, "2018-09-07": {"neg": 27, "pos": 52}}

console.log(jsonObject);
dataPointsPos = []

for (var key in jsonObject) {
    dataPointsPos.push({label: key, y: jsonObject[key]['pos']})
}

dataPointsNeg = []

for (var key in jsonObject) {
    dataPointsNeg.push({label: key, y: jsonObject[key]['neg']})
}

window.onload = function () {

$.getJSON("test.json", function(json) {
    console.log(json); // this will show the info it in firebug console
});

var chart = new CanvasJS.Chart("chartContainer", {
	exportEnabled: true,
	animationEnabled: true,
	title:{
		text: `Comments about Trump on Twitter during september 2018`
	},
	subtitles: [{
		text: "Click Legend to Hide or Unhide Data Series"
	}], 
	axisX: {
		title: "Date"
	},
	axisY: {
		title: "Positive No. Comments",
		titleFontColor: "#00FF00",
		lineColor: "#00FF00",
		labelFontColor: "#00FF00",
		tickColor: "#00FF00"
	},
	axisY2: {
		title: "Negative No. Comments",
		titleFontColor: "#C0504E",
		lineColor: "#C0504E",
		labelFontColor: "#C0504E",
		tickColor: "#C0504E"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		itemclick: toggleDataSeries
	},
	data: [{
		type: "column",
		name: "Positive",
		showInLegend: true,      
		yValueFormatString: "#,##0.# Units",
		dataPoints: dataPointsPos
	},
	{
		type: "column",
		name: "Negative",
		axisYType: "secondary",
		showInLegend: true,
		yValueFormatString: "#,##0.# Units",
		dataPoints: dataPointsNeg
	}]
});
chart.render();

function toggleDataSeries(e) {
	if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	} else {
		e.dataSeries.visible = true;
	}
	e.chart.render();
}

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 370px; width: 100%;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>
</html>
